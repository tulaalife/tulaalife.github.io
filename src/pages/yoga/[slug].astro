---
import YogaDetail from "../../components/YogaDetail.astro";
import { yogaPlans } from "../../data/generated";
import type { GetStaticPaths } from "astro";

interface Props {
    plan: (typeof yogaPlans)[number];
}

export const getStaticPaths = (async () => {
    const englishPlans = yogaPlans.filter((p) => p.language === "en");
    return englishPlans.map((p) => ({
        params: { slug: p.slug },
        props: { plan: p },
    }));
}) satisfies GetStaticPaths;

const { plan } = Astro.props;
const lang = "en";
const canonical = `/en/yoga/${plan.slug}`;

const t = {
    back: "Back to Plans",
    openApp: "Open in App",
    browse: "Browse other plans",
};
---

<YogaDetail
    plan={plan}
    canonicalPath={canonical}
    lang={lang}
    labels={t}
    backLink="/yoga"
    browseLink="/yoga"
/>
