---
import YogaDetail from "../../../components/YogaDetail.astro";
import { yogaPlans } from "../../../data/generated";
import type { GetStaticPaths } from "astro";

interface Props {
    plan: (typeof yogaPlans)[number];
}

export const getStaticPaths = (async () => {
    return yogaPlans.map((p) => ({
        params: { lang: p.language, slug: p.slug },
        props: { plan: p },
    }));
}) satisfies GetStaticPaths;

const { plan } = Astro.props;
const { lang } = Astro.params;

const canonical = `/${lang}/yoga/${plan.slug}`;

const LABELS = {
    hi: {
        back: "यौगिक प्लैन्स",
        openApp: "ऐप में खोलें",
        browse: "अन्य प्लैन्स देखें",
    },
};

const t = LABELS[lang as keyof typeof LABELS] || {
    back: "Back to Plans",
    openApp: "Open in App",
    browse: "Browse other plans",
};
---

<YogaDetail plan={plan} canonicalPath={canonical} lang={lang} labels={t} />
