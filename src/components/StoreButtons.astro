---
interface Props {
    centered?: boolean;
    inverted?: boolean;
    iosHref?: string;
    androidHref?: string;
}

const {
    centered = false,
    inverted = false,
    iosHref = "#",
    androidHref = "#",
} = Astro.props;

const iosIconSrc = "/assets/icons/appstore.svg";
const androidIconSrc = "/assets/icons/playstore.svg";
---

<div class:list={["store-buttons", { centered }]}>
    <a
        href={iosHref}
        class:list={["store-btn", { inverted }]}
        target="_blank"
        rel="noopener"
        aria-label="Download on the App Store"
    >
        <img
            src={iosIconSrc}
            alt=""
            class="store-btn__icon"
            width="24"
            height="24"
            aria-hidden="true"
        />
        <span class="store-btn__text">
            <small>Download on</small>
            <strong>App Store</strong>
        </span>
    </a>

    <a
        href={androidHref}
        class:list={["store-btn", { inverted }]}
        target="_blank"
        rel="noopener"
        aria-label="Get it on Google Play"
    >
        <img
            src={androidIconSrc}
            alt=""
            class="store-btn__icon"
            width="24"
            height="24"
            aria-hidden="true"
        />
        <span class="store-btn__text">
            <small>Get it on</small>
            <strong>Google Play</strong>
        </span>
    </a>
</div>

<style>
    .store-buttons {
        display: flex;
        gap: 12px;
        flex-wrap: wrap;
    }

    .store-buttons.centered {
        justify-content: center;
    }

    .store-btn {
        --btn-h: 52px;
        --btn-r: 12px;

        height: var(--btn-h);
        border-radius: var(--btn-r);
        display: inline-flex;
        align-items: center;
        gap: 10px;
        padding: 0 16px;
        text-decoration: none;
        white-space: nowrap;
        transition:
            transform 0.14s ease,
            box-shadow 0.14s ease;

        /* High-end dark theme default */
        background: linear-gradient(180deg, #121314, #0f0f10 60%);
        color: #ffffff;
        border: 1px solid color-mix(in oklch, #ffffff, transparent 82%);
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.12);
    }

    /* Adaptive Inverted Style */
    .store-btn.inverted {
        background: linear-gradient(180deg, #ffffff, #f5f5f7 60%);
        color: #000000;
        border: 1px solid color-mix(in oklch, #000000, transparent 90%);
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
    }

    .store-btn:hover {
        transform: translateY(-1px);
        box-shadow: 0 8px 18px rgba(0, 0, 0, 0.16);
    }

    .store-btn:active {
        transform: translateY(0);
    }

    .store-btn__icon {
        width: 22px;
        height: 22px;
        object-fit: contain;
    }

    /* Icon color logic for inverted mode */
    .store-btn.inverted .store-btn__icon {
        filter: brightness(0); /* Forces icons to black if they were white */
    }

    .store-btn__text {
        display: flex;
        flex-direction: column;
        line-height: 1.1;
        text-align: left;
    }

    .store-btn__text small {
        font-size: 10px;
        text-transform: none;
        opacity: 0.8;
    }

    .store-btn__text strong {
        font-size: 15px;
        font-weight: 600;
        letter-spacing: -0.01em;
    }
</style>
